{"version":3,"sources":["./src/app/modaldecarreteaotro/modaldecarreteaotro.page.ts","./src/app/modaldecarreteaotro/modaldecarreteaotro.page.scss","./src/app/modaldecarreteaotro/modaldecarreteaotro.page.html"],"names":[],"mappings":"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","file":"default-src_app_modaldecarreteaotro_modaldecarreteaotro_page_ts.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { NavParams } from '@ionic/angular';\nimport { JsonService } from '../json.service';\nimport { GlobalpermisosService } from '../globalpermisos.service';\nimport { Platform, NavController,LoadingController, AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-modaldecarreteaotro',\n  templateUrl: './modaldecarreteaotro.page.html',\n  styleUrls: ['./modaldecarreteaotro.page.scss'],\n})\nexport class ModaldecarreteaotroPage implements OnInit {\n  step: string;\n  codigo_qr_acceso: any;\n  quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor: any;\n  respuestaconsultarpermisosidroldecarreteaotro: any;\n  traidopormodalparams: any;\n\n  constructor(\n    public loadingController: LoadingController,\n    public globalpermisos: GlobalpermisosService,\n    public modalController: ModalController,\n    navParams: NavParams,\n    private json: JsonService,\n  ) \n  {\n    this.step='1';\n    this.traidopormodalparams=navParams.get('dataparaelmodal');\n    console.log('recibido por modalparams', this.traidopormodalparams);\n   }\n\n  ngOnInit() {\n  }\n\n  dismiss() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalController.dismiss({\n      'dismissed': true\n    });\n  }\n  \n  funciondismissyvolverastep1() {\n    // using the injected ModalController this page\n    // can \"dismiss\" itself and optionally pass back data\n    this.modalController.dismiss({\n      'dismissed': 'volverastep1'\n    });\n  }\n\n  \n  CHANGEcodigosupervisor(event){console.log('cgange',event.target.value)\n  \n   this.codigo_qr_acceso=event.target.value;\n   \n    }\n\n  async verificarsupervisor(){\n    const verificando = await this.loadingController.create({\n      message: 'Verificando, espere...',spinner: 'bubbles',duration: 15000,\n      });\n      const fallo = await this.loadingController.create({\n        message: 'Ingrese el codigo del supervisor!',spinner: 'bubbles',duration: 1200,\n        });\n        const informacionfalsa = await this.loadingController.create({\n          message: 'Incorrecto porfavor verifique!',spinner: 'bubbles',duration: 1200,\n          });\n      verificando.present();\n    var data = {\n      codigo_qr_acceso:this.codigo_qr_acceso\n      }\n      this.json.empieza(data).subscribe((res: any ) =>{\n        this.quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor=res[0];\n        console.log('respuesta de Json quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor empieza:', this.quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor);\n\n\n        if(this.quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor==undefined||this.quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor==null){\n          verificando.dismiss();\n          informacionfalsa.present();\n        }\n        if(this.quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor.id_rol=='4'){\n          verificando.dismiss();\n          console.log('paso el supervisor');\n          this.step='3';\n\n        }\n        else{\n          verificando.dismiss();\n          fallo.present();\n        }\n\n\n    //   //consultar permisos de supervisor\n    //     var dataconsultarpermisosidroldecarreteaotro = {\n    //       nombre_solicitud: 'consultarpermisosidroldecarreteaotro',\n    //       id_rol:this.quieroaccederporfavordigamelarespuestadelaconsultadelsupervisor.id_rol,\n      \n    //     };\n    //     this.json.variasfunciones(dataconsultarpermisosidroldecarreteaotro).subscribe(async (res: any ) =>{\n    //       console.log('respuesta a la solicitud variasfunciones,  consultarpermisosidroldecarreteaotro', res);\n    //       this.respuestaconsultarpermisosidroldecarreteaotro=res;\n    //         //termina la consulta de supervisor\n    // });\n\n\n\n      });\n  }\n\n  async autorizar(){\n    console.log('autorizando cambio de almacenaje');\n\n    const exitoso = await this.loadingController.create({\n      message: 'Cambio exitoso!.',spinner: 'bubbles',duration: 1500,\n      });\n\n      const yafuecambiado = await this.loadingController.create({\n        message: 'Este registro ya ha sido cambiado de carrete a chipa anteriormente!.',spinner: 'bubbles',duration: 2500,\n        });\n\n    var dataautorizarcambiodecarrete = {\n      nombre_solicitud:'autorizarcambiodecarrete',\n      id_inutilizado:this.traidopormodalparams.id_inutilizado,\n      nombre_cambio_almacenaje:this.globalpermisos.nombre,\n      carreteorrollo: 'Chipa'\n    }\n  \n    this.json.variasfunciones(dataautorizarcambiodecarrete).subscribe((res: any ) =>{\n      console.log('res autorizarcambiodecarrete',res);\n      if(res>0){\n        exitoso.present();\n        this.funciondismissyvolverastep1();\n      }\n      else if(res==0){\n        yafuecambiado.present();\n        this.funciondismissyvolverastep1();\n\n      }\n\n      });\n\n  }\n\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb2RhbGRlY2FycmV0ZWFvdHJvLnBhZ2Uuc2NzcyJ9 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Cambio de tipo de almacenaje</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n<ion-grid>\\n\\n  <ion-row class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n      <ion-button  (click)=\\\"dismiss()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\">Volver</ion-text>\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n  <ion-row *ngIf=\\\"this.step=='1'\\\" class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">\\n      <ion-text color=\\\"danger\\\" style=\\\"font-weight: 500;\\\">Referencia: </ion-text><br>\\n      <ion-text>{{this.traidopormodalparams.referencia}} </ion-text>\\n    </ion-col>\\n    <ion-col size=\\\"2\\\" class=\\\"ion-text-center\\\">\\n      <ion-text color=\\\"danger\\\" style=\\\"font-weight: 500;\\\">Codigo: </ion-text><br>\\n            <ion-text>{{this.traidopormodalparams.numero_fraccionado}} </ion-text>\\n    </ion-col>\\n    <ion-col size=\\\"4\\\" class=\\\"ion-text-center\\\">\\n      <ion-text color=\\\"danger\\\" style=\\\"font-weight: 500;\\\">Nombre: </ion-text><br>\\n            <ion-text>{{this.traidopormodalparams.descripcion}} </ion-text>\\n    </ion-col>\\n    <ion-col size=\\\"3\\\" class=\\\"ion-text-center\\\">\\n      <ion-text color=\\\"danger\\\" style=\\\"font-weight: 500;\\\">Documento de<br>referencia:</ion-text><br>\\n      <ion-text>{{this.traidopormodalparams.documento}} </ion-text>\\n    </ion-col>\\n  </ion-row>\\n\\n  <ion-row *ngIf=\\\"this.step=='1'\\\" class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"4\\\" class=\\\"ion-text-center\\\">\\n    </ion-col>\\n    <ion-col size=\\\"4\\\" class=\\\"ion-text-center\\\">\\n      <ion-card>\\n          <ion-item>\\n              <ion-label position=\\\"floating\\\"></ion-label>\\n              <ion-input (ionChange)=\\\"CHANGEcodigosupervisor($event)\\\" color=\\\"danger\\\" >\\n              </ion-input>\\n          </ion-item>\\n      </ion-card>\\n    </ion-col>\\n    <ion-col size=\\\"4\\\" class=\\\"ion-text-center\\\">\\n    </ion-col>\\n  </ion-row>\\n\\n  <ion-row *ngIf=\\\"this.step=='1'\\\" class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n      <ion-button  (click)=\\\"verificarsupervisor()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\">Verificar</ion-text>\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n    <ion-row *ngIf=\\\"this.step=='2'\\\" class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n      <ion-button  (click)=\\\"dismiss()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\">Volver</ion-text>\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n\\n\\n  <ion-row style=\\\"justify-content: center;align-items: center;\\\" *ngIf=\\\"this.step=='3'\\\" class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\n        <ion-card>\\n              <ion-card-header>\\n                Orden Fraccionamiento\\n              </ion-card-header>\\n              <ion-card-content>\\n                <ion-text>Codigo: {{this.traidopormodalparams.codigo_fraccionado}} </ion-text>\\n\\n\\n                <ion-text>Nombre: {{this.traidopormodalparams.descripcion}} </ion-text>\\n    \\n          <ion-text>Metros:{{this.traidopormodalparams.metrosafraccionar}} </ion-text>\\n          <ion-text>Carrete </ion-text>\\n\\n              </ion-card-content>\\n\\n        </ion-card>\\n    </ion-col>\\n    <ion-col size=\\\"6\\\" class=\\\"ion-text-center\\\">\\n        <ion-card>\\n            <ion-card-header>\\n                Fraccionamiento\\n              </ion-card-header>\\n              <ion-card-content>\\n                <ion-text>Codigo: {{this.traidopormodalparams.codigo_fraccionado}} </ion-text>\\n\\n\\n                <ion-text>Nombre: {{this.traidopormodalparams.descripcion}} </ion-text>\\n    \\n          <ion-text>Metros:{{this.traidopormodalparams.metrosafraccionar}} </ion-text>\\n          <ion-text>Chipa </ion-text>\\n\\n              </ion-card-content>\\n        </ion-card>\\n    </ion-col>\\n</ion-row>\\n\\n  <ion-row style=\\\"justify-content: center;align-items: center;\\\" *ngIf=\\\"this.step=='3'\\\" class=\\\"ion-align-items-center\\\">\\n    <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n      <ion-button  (click)=\\\"autorizar()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\"><ion-icon style=\\\"color:green;\\\" name=\\\"checkmark-done-outline\\\"></ion-icon>AUTORIZAR</ion-text>\\n      </ion-button>\\n    </ion-col>\\n</ion-row>\\n\\n</ion-grid>\\n\\n\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}