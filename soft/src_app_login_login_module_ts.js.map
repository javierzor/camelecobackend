{"version":3,"sources":["./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.ts","./src/app/login/login.page.scss","./src/app/login/login.page.html"],"names":[],"mappings":"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","file":"src_app_login_login_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LoginPageRoutingModule\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { JsonService } from '../json.service';\r\nimport { Router } from '@angular/router';\r\nimport { Platform, NavController,LoadingController, AlertController } from '@ionic/angular';\r\nimport { environment } from '../../environments/environment';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DatePipe } from '@angular/common'\r\nimport { Location } from \"@angular/common\";\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AppComponent } from '../app.component';\r\nimport { GlobalpermisosService } from '../globalpermisos.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  dataempieza: any;\r\n  intentando_logear: any;\r\n  quieroaccederporfavordigamelarespuestadelaconsulta:any;\r\n  static variableglobalintentodelogin: any;\r\n  bodega: any;\r\n\r\n  constructor(\r\n    private location: Location,\r\n    private router: Router,\r\n    private json: JsonService,\r\n    public loadingController: LoadingController,\r\n    public navCtrl: NavController,\r\n    public loading: LoadingController,\r\n    private route: ActivatedRoute,\r\n    public modalCtrl: ModalController,\r\n    public datepipe: DatePipe,\r\n    public menuCtrl: MenuController,\r\n    public myapp: AppComponent,\r\n    public globalpermisos: GlobalpermisosService\r\n         )\r\n  \r\n  {\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.menuCtrl.enable(false);\r\n   }\r\n\r\n   preparardataparaintentodeLogin(event){\r\n     this.dataempieza=event.target.value;\r\n     console.log('informacion tipeada=',this.dataempieza);\r\n     }\r\n\r\n    ONCHANGEbodega(event){\r\n    this.bodega=event.target.value;\r\n    console.log('informacion tipeada=',this.bodega);\r\n    }\r\n   \r\n\r\n   apretando_boton_login(){\r\n    this.intentando_logear='si';\r\n   }\r\n\r\n\r\n   async verificarsillenoloscampos(){\r\n     if(this.bodega!=null&&this.bodega!=undefined&&this.bodega!=''){\r\n       this.intentoLogin();\r\n     }\r\n     else{\r\n      const camposobligatorios = await this.loadingController.create({\r\n        message: 'Ingrese la bodega para continuar.',spinner: 'bubbles',duration: 1100,\r\n        });\r\n        camposobligatorios.present();\r\n     }\r\n    }\r\n\r\n   async intentoLogin(){\r\n    const bodeganoexiste = await this.loadingController.create({\r\n      message: 'La bodega ingresada no existe',spinner: 'bubbles',duration: 1000,\r\n      });\r\n    const verifiqueconexion = await this.loadingController.create({\r\n      message: 'Porfavor verifique su conexion..',spinner: 'bubbles',duration: 1400,\r\n      });\r\n    const espereporfavor = await this.loadingController.create({\r\n      message: 'Verificando, espere porfavor...',spinner: 'bubbles',duration: 25000,\r\n      });\r\n      const exitoso = await this.loadingController.create({\r\n      message: 'Verificación exitosa accediendo.',spinner: 'bubbles',duration: 1200,\r\n      });\r\n      const error = await this.loadingController.create({\r\n      message: 'Verifique su información porfavor...',spinner: 'bubbles',duration: 1700,\r\n      });\r\n    espereporfavor.present();\r\n\r\n     var data = {\r\n      id_inutilizado:this.bodega,\r\n      codigo_qr_acceso:this.dataempieza\r\n     }\r\n    this.json.empiezalogin(data).subscribe((res: any ) =>{\r\n      console.log('respuesta de Json empieza:', res);\r\n      this.quieroaccederporfavordigamelarespuestadelaconsulta=res;\r\n      if(res.length=='0'){\r\n        console.log('El usuario no existe');\r\n        espereporfavor.dismiss();\r\n        error.present();\r\n        }\r\n      if (res.length>0&&res[0].activo>0){\r\n        LoginPage.variableglobalintentodelogin=this.dataempieza;\r\n        this.globalpermisos.usuariologeado=this.dataempieza;\r\n        this.globalpermisos.id_usuario=this.quieroaccederporfavordigamelarespuestadelaconsulta['0'].id;\r\n        this.globalpermisos.nombre=this.quieroaccederporfavordigamelarespuestadelaconsulta['0'].nombre;\r\n        this.globalpermisos.bodega=this.quieroaccederporfavordigamelarespuestadelaconsulta['0'].nombre_bodega;\r\n        console.log('el usuario fue registrado previamente');\r\n        this.router.navigate(['/home', this.quieroaccederporfavordigamelarespuestadelaconsulta['0']]);\r\n        this.myapp.distribuirlotraidodellogin();\r\n        espereporfavor.dismiss();\r\n        // exitoso.present();\r\n        \r\n      }\r\n      \r\n      else\r\n      {\r\n        if(res[0]=='bodeganoexiste'){\r\n           espereporfavor.dismiss();\r\n           bodeganoexiste.present();\r\n         }\r\n         else{\r\n            espereporfavor.dismiss();\r\n            verifiqueconexion.present();\r\n         }\r\n\r\n      }\r\n\r\n    });\r\n\r\n      //se pretende iniciar ya sea con el QR o si esta disponible el input de codigo, con el input manual\r\n   }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\r\\n  <ion-toolbar style=\\\"text-align: center;\\\">\\r\\n      <h1 style=\\\"text-align: center; font-family:PeaceSans; color:#ff0110; line-height:0%; \\\">CAMELECO <br>\\r\\n        \\r\\n        <h6 style=\\\"text-align: center; color:#303030; font-size: small;\\\">\\r\\n          www.cameleco.com\\r\\n        </h6>\\r\\n      \\r\\n      </h1>\\r\\n    <ion-title></ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<ion-grid class=\\\"todocentrado\\\">\\r\\n\\r\\n  <ion-row style=\\\"justify-content: center; justify-content: center;\\\">\\r\\n<ion-text><h1 color=\\\"danger\\\">Inicio de sesión</h1></ion-text>\\r\\n  </ion-row>\\r\\n\\r\\n    <ion-row>\\r\\n\\r\\n        <ion-col size=\\\"9\\\">\\r\\n          <ion-card color=\\\"danger\\\" >\\r\\n            <ion-item >\\r\\n              <ion-label position=\\\"floating\\\">Codigo de empleado:</ion-label>\\r\\n              <ion-input (keyup.enter)=\\\"verificarsillenoloscampos()\\\" type=\\\"tel-local\\\" (ionChange)=\\\"preparardataparaintentodeLogin($event)\\\" color=\\\"danger\\\" ></ion-input>\\r\\n            </ion-item>\\r\\n          </ion-card>\\r\\n          <ion-card color=\\\"danger\\\" >\\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\">Bodega:</ion-label>\\r\\n              <ion-input (keyup.enter)=\\\"verificarsillenoloscampos()\\\" type=\\\"tel-local\\\" (ionChange)=\\\"ONCHANGEbodega($event)\\\" color=\\\"danger\\\" ></ion-input>\\r\\n            </ion-item>\\r\\n          </ion-card>\\r\\n        </ion-col>\\r\\n\\r\\n        <ion-col size=\\\"3\\\"   class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n          <ion-row>\\r\\n            <ion-col size=\\\"4\\\">\\r\\n\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"4\\\">\\r\\n                <ion-button style=\\\"height: 120%;\\\">\\r\\n                  <ion-icon  style=\\\"  font-size:48px\\\" name=\\\"qr-code\\\"   class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n            <ion-col size=\\\"4\\\">\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </ion-col>\\r\\n\\r\\n\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n        <ion-button [disabled]=\\\"this.bodega==null||this.bodega==undefined||this.bodega==''\\\" (click)=\\\"intentoLogin()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\">INGRESAR</ion-text>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n\\r\\n</ion-grid>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  \\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}