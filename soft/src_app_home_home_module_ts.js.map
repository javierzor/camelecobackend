{"version":3,"sources":["./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.ts","./src/app/home/home.page.scss","./src/app/home/home.page.html"],"names":[],"mappings":"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","file":"src_app_home_home_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { HomePage } from './home.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: HomePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class HomePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { HomePageRoutingModule } from './home-routing.module';\r\n\r\nimport { HomePage } from './home.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    HomePageRoutingModule\r\n  ],\r\n  declarations: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { JsonService } from '../json.service';\r\nimport { Router } from '@angular/router';\r\nimport { Platform, NavController,LoadingController, AlertController } from '@ionic/angular';\r\nimport { environment } from '../../environments/environment';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DatePipe } from '@angular/common'\r\nimport { Location } from \"@angular/common\";\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { GlobalpermisosService } from '../globalpermisos.service';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.page.html',\r\n  styleUrls: ['./home.page.scss'],\r\n})\r\nexport class HomePage implements OnInit {\r\n  permisos: any;\r\n  rol: any;\r\n  userinfo: any;\r\n  nombre_rol: [];\r\n  rol_descripcion: any;\r\n  public user_nombre: any;\r\n\r\n\r\n  constructor(\r\n    public globalpermisos: GlobalpermisosService,\r\n    private location: Location,\r\n    private router: Router,\r\n    private json: JsonService,\r\n    public loadingController: LoadingController,\r\n    public navCtrl: NavController,\r\n    public loading: LoadingController,\r\n    private route: ActivatedRoute,\r\n    public modalCtrl: ModalController,\r\n    public datepipe: DatePipe,\r\n    public menuCtrl: MenuController\r\n  )\r\n  \r\n   {\r\n    console.log('nombre de usuario', this.user_nombre);\r\n    this.route.params.subscribe(params => {\r\n      this.userinfo = params; \r\n      console.log('userinfo route params this.userinfo=', this.userinfo);\r\n     var data = {\r\n       id_rol: this.userinfo.id_rol\r\n     }\r\n    this.json.rol(data).subscribe((res: any ) =>{\r\n      console.log('respuesta de rol permisos: json.rol ',res);\r\n      this.rol = res['detalles'];\r\n      this.nombre_rol=res['detalles'].nombre_rol;\r\n      this.rol_descripcion=res['detalles'].rol_descripcion;\r\n      this.permisos = res['suspermisos'];\r\n    }); //cierra la consulta delos permisos\r\n\r\n}); //cerrando la consulta de navegacion entre parametros.\r\n   }\r\n\r\n   ionViewWillEnter() {\r\n    this.user_nombre=this.globalpermisos.nombre;\r\n\r\n\r\n\r\n     if(!this.userinfo.id_rol){\r\n       console.log('el usuario tiene un rol')\r\n      this.menuCtrl.enable(false);\r\n    }\r\n      else{\r\n        this.menuCtrl.enable(true);\r\n\r\n      }\r\n   }\r\n\r\n  ngOnInit() {\r\n\r\n    // como entrando hace una consulta\r\n    // 1) si no hay login en el storage que mande al login\r\n    // 2) si hay login en el storage que reconsulte ese login\r\n    // y lo intente autenticar nuevamente\r\n    // si vuelve a logear y esta activo que lo mantenga aqui\r\n    // si no que lo lleve al login\r\n\r\n  }\r\n\r\n  salir(){\r\n    localStorage.clear();  //limpiando cache\r\n    this.userinfo=null;\r\n    this.router.navigate(['/login']);\r\n  }\r\n\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJob21lLnBhZ2Uuc2NzcyJ9 */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Home</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"!this.userinfo.id_rol\\\">\\r\\n\\r\\n  <ion-grid  class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\"> \\r\\n    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n        <ion-button   (click)=\\\"salir()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\">Debe Reingresar</ion-text>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n<ion-content *ngIf=\\\"this.userinfo.id_rol\\\">\\r\\n\\r\\n\\r\\n  <ion-grid  class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n    \\r\\n    <ion-row class=\\\"ion-align-items-center\\\">\\r\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n        <ion-button *ngIf=\\\"this.userinfo==null\\\"  (click)=\\\"salir()\\\" color=\\\"danger\\\" ><ion-text style=\\\"font-weight: 500;\\\">Debe Reingresar</ion-text>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"3\\\">\\r\\n     </ion-col>\\r\\n     <ion-col style=\\\"text-align: center;\\\" size=\\\"6\\\">\\r\\n      <h3 style=\\\"color:#757575\\\">¡Bienvenido!</h3>\\r\\n     </ion-col>\\r\\n     <ion-col size=\\\"3\\\">\\r\\n    </ion-col>\\r\\n   </ion-row>\\r\\n\\r\\n  <ion-row>\\r\\n      <ion-col size=\\\"1\\\">\\r\\n      </ion-col>\\r\\n      <ion-col style=\\\"text-align: left;\\\" size=\\\"10\\\">\\r\\n        <ion-text *ngIf=\\\"this.user_nombre!=undefined&&this.user_nombre!=null&&this.user_nombre!=''\\\" style=\\\"color: #404040;\\\"><ion-text ><strong style=\\\"border-radius: 8px; background-color: #ff0110; color: #EEEEEE;\\\">&nbsp;Usuario: </strong>&nbsp; {{this.user_nombre}}</ion-text><strong></strong> </ion-text>\\r\\n        <br>\\r\\n        <ion-text style=\\\"color: #404040;\\\"><ion-text ><strong style=\\\"border-radius: 8px; background-color: #ff0110; color: #EEEEEE;\\\">&nbsp;Rol: </strong>&nbsp; {{this.nombre_rol}}.</ion-text><strong></strong> </ion-text>\\r\\n        <br>\\r\\n        <ion-text style=\\\"color: #404040;\\\"><ion-text ><strong style=\\\"border-radius: 8px; background-color: #ff0110; color: #EEEEEE;\\\">&nbsp;Detalles de su rol: </strong>&nbsp; {{this.rol_descripcion}}.</ion-text><strong></strong> </ion-text>\\r\\n      <!-- <ion-text style=\\\"color: #404040\\\">se listaran los actuales permisos disponibles segun su Rol:</ion-text> -->\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"1\\\">\\r\\n      </ion-col>\\r\\n  </ion-row>\\r\\n  <!-- <ion-row  text-wrap *ngFor=\\\"let permisosdelusuario of permisos; let i = index\\\"  class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n      <ion-col size=\\\"2\\\" class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n      </ion-col>\\r\\n      <ion-col  class=\\\"item-text-wrap\\\" size=\\\"8\\\"  class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n        <ion-card >\\r\\n          <ion-item class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n              <ion-text style=\\\"margin-left: 15px;\\\" ><ion-text ><strong style=\\\"border-radius: 8px; background-color: #ff0110; color: #EEEEEE;\\\">&nbsp;Nombre: </strong>&nbsp; {{permisosdelusuario[0].permiso_nombre}}</ion-text><strong></strong> </ion-text>\\r\\n          </ion-item>\\r\\n          <ion-item  class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n            <ion-text  style=\\\" margin-left: 15px;\\\" ><ion-text ><strong style=\\\"border-radius: 8px; background-color: #ff0110; color: #EEEEEE;\\\">&nbsp;descripción: </strong>&nbsp; {{permisosdelusuario[0].permiso_descripcion}}</ion-text></ion-text>\\r\\n          </ion-item>\\r\\n        </ion-card>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"2\\\" class=\\\"ion-no-padding\\\" no-padding lines=\\\"none\\\">\\r\\n      </ion-col>\\r\\n  </ion-row> -->\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n  </ion-grid>\\r\\n  \\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}